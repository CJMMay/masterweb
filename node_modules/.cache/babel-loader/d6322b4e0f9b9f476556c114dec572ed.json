{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\test\\\\project\\\\src\\\\component\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Layout, Menu, Select, Form, Icon, Input, Button, Checkbox } from 'antd';\nimport Msg from './msg.js';\nimport 'antd/dist/antd.css';\nimport \"./login.css\";\nimport axios from 'axios';\nconst Option = Select.Option;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = (e, values) => {\n      e.preventDefault();\n      let usr = values.userName,\n          pwd = values.password,\n          data = {\n        params: {\n          usr: usr,\n          pwd: pwd\n        }\n      };\n      axios.get('http://47.102.128.167:9000/login', data).then(r => {\n        if (r.data.result === 1 && values.remember === true) {\n          axios.defaults.headers.common.authorization = r.data.token;\n          localStorage.setItem('user-token', r.data.token);\n          localStorage.setItem('user', usr);\n          localStorage.setItem('pwd', pwd);\n        }\n\n        this.setState({\n          msg: r.data.message,\n          show: true,\n          isLogin: r.data.result\n        });\n      });\n    };\n\n    this.state = {\n      logo: {\n        name: \"123\"\n      },\n      show: false,\n      isLogin: 0,\n      msg: null\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('user-token')) {\n      axios.defaults.headers.common.authorization = localStorage.getItem('user-token');\n      this.setState({\n        isLogin: 1\n      });\n    }\n  }\n\n  render() {\n    let isLogin = this.state.isLogin,\n        msg = this.state.msg,\n        show = this.state.show;\n    if (isLogin === 1) return React.createElement(Redirect, {\n      push: true,\n      to: \"/Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"login-g\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Msg, {\n      msg: msg,\n      show: show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"login-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"\",\n      alt: \"\",\n      className: \"logo-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    })), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      className: \"login-form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }),\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      className: \"login-form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"lock\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Remember me\"), React.createElement(\"a\", {\n      className: \"login-form-forgot\",\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Forgot password\"), React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Log in\"), \"Or \", React.createElement(\"a\", {\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"register now!\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\admin\\Desktop\\test\\project\\src\\component\\login.js"],"names":["React","Component","Redirect","Layout","Menu","Select","Form","Icon","Input","Button","Checkbox","Msg","axios","Option","Login","constructor","props","handleSubmit","e","values","preventDefault","usr","userName","pwd","password","data","params","get","then","r","result","remember","defaults","headers","common","authorization","token","localStorage","setItem","setState","msg","message","show","isLogin","state","logo","name","componentDidMount","getItem","render","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\nimport { Layout, Menu, Select, Form, Icon, Input, Button, Checkbox } from 'antd';\r\nimport Msg from './msg.js'\r\nimport 'antd/dist/antd.css';\r\nimport \"./login.css\";\r\nimport axios from 'axios'\r\nconst { Option } = Select;\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      logo: { name: \"123\" },\r\n      show: false,\r\n      isLogin: 0,\r\n      msg: null\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (localStorage.getItem('user-token')) {\r\n      axios.defaults.headers.common.authorization = localStorage.getItem('user-token');\r\n      this.setState({ isLogin: 1 });\r\n    }\r\n  }\r\n  handleSubmit = (e, values) => {\r\n    e.preventDefault();\r\n    let usr = values.userName, pwd = values.password, data = { params: { usr: usr, pwd: pwd } }\r\n    axios.get('http://47.102.128.167:9000/login', data).then((r) => {\r\n      if (r.data.result === 1 && values.remember === true) {\r\n        axios.defaults.headers.common.authorization = r.data.token;\r\n        localStorage.setItem('user-token', r.data.token)\r\n        localStorage.setItem('user', usr)\r\n        localStorage.setItem('pwd', pwd)\r\n      }\r\n      this.setState({ msg: r.data.message, show: true, isLogin: r.data.result });\r\n    });\r\n  }\r\n  render() {\r\n    let isLogin = this.state.isLogin, msg = this.state.msg, show = this.state.show;\r\n    if (isLogin === 1)\r\n      return <Redirect push to='/Home' />;\r\n    return (\r\n      <div className='login-g'>\r\n        <Msg msg={msg} show={show} />\r\n        <div className='login-body'>\r\n          <div className=\"login-logo\">\r\n            <img src=\"\" alt=\"\" className='logo-pic' />\r\n          </div>\r\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n            <Form.Item className=\"login-form-row\">\r\n              <Input\r\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                placeholder=\"Username\"\r\n              />\r\n            </Form.Item >\r\n            <Form.Item className=\"login-form-row\">\r\n              <Input\r\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Checkbox>Remember me</Checkbox>\r\n              <a className=\"login-form-forgot\" href=\"\">\r\n                Forgot password\r\n                </a>\r\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                Log in\r\n                </Button>\r\n              Or <a href=\"\">register now!</a>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}